{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc cam\\\\Desktop\\\\soc\\\\src\\\\components\\\\pages\\\\posts\\\\Requests\\\\RequestsPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons'; // Actions\n\nimport { getRequests, getCategories } from '../../../../redux/actions/postActions';\nimport { setAlert } from '../../../../redux/actions/alertActions'; // Utils\n\nimport { WEBSITE_NAME } from '../../../../utils/websiteData'; // Components\n\nimport Sidebar from '../../../layout/Sidebar';\nimport Spinner from '../../../layout/Spinner';\nimport PostItem from '../PostItem';\nimport useStyles from '../posts-jss';\n\nconst Requests = props => {\n  const classes = useStyles();\n  const {\n    requests,\n    categories,\n    getRequests,\n    getCategories,\n    loading,\n    loading_categories\n  } = props;\n  const [post_search, setSearch] = useState({\n    keywords: '',\n    category: 0\n  });\n  const {\n    keywords,\n    category,\n    wilaya,\n    city\n  } = post_search;\n  useEffect(() => {\n    getRequests(keywords, category, wilaya, city);\n    getCategories(); //eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (wilaya !== 0 && wilaya !== '0') {\n      getStateCities(wilaya);\n    } else {\n      clearCities();\n    }\n\n    setSearch({ ...post_search,\n      city: 0\n    }); //eslint-disable-next-line\n  }, [wilaya]);\n\n  const onChange = e => setSearch({ ...post_search,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    getRequests(keywords, category, wilaya, city);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, `${WEBSITE_NAME} | Requests`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classes.page} card-shadow text-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Requests\"), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Find donation from your organization then submit your request\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/requests/add`,\n    className: \"button-primary d-inline-block mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faPlusCircle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }), \"Add a Request\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-form card-shadow mt-4 pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-lg-none mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"button-light\",\n    \"data-toggle\": \"collapse\",\n    href: \"#collapse-form\",\n    role: \"button\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"collapse-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }), \"Show Filter\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: \"collapse mt-3\",\n    id: \"collapse-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"keywords\",\n    value: keywords,\n    onChange: onChange,\n    type: \"text\",\n    className: \"input-text mb-2\",\n    placeholder: \"Search..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    value: category,\n    onChange: onChange,\n    className: \"custom-select input-select input-text mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, loading_categories ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \" All types \") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }\n  }, \"All categories\"), categories !== null && categories.length > 0 && categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 27\n    }\n  }, category.label))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button-primary mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"Go\"))))), requests !== null && !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, \"Requests (\", requests.length, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, requests.length < 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-requests mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 23\n    }\n  }, \"No requests found!\")) : requests.map(post => /*#__PURE__*/React.createElement(PostItem, {\n    key: post.id,\n    post: post,\n    type: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-none d-lg-block col-12 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapSateToProps = state => ({\n  requests: state.posts.requests,\n  categories: state.posts.categories,\n  loading: state.posts.loading,\n  loading_categories: state.posts.loading_categories\n});\n\nexport default connect(mapSateToProps, {\n  setAlert,\n  getRequests,\n  getCategories\n})(Requests);","map":{"version":3,"sources":["C:/Users/pc cam/Desktop/soc/src/components/pages/posts/Requests/RequestsPage.js"],"names":["React","useState","useEffect","Link","connect","Helmet","FontAwesomeIcon","faPlusCircle","faSearch","getRequests","getCategories","setAlert","WEBSITE_NAME","Sidebar","Spinner","PostItem","useStyles","Requests","props","classes","requests","categories","loading","loading_categories","post_search","setSearch","keywords","category","wilaya","city","getStateCities","clearCities","onChange","e","target","name","value","onSubmit","preventDefault","page","length","map","id","label","post","mapSateToProps","state","posts"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons';\n\n// Actions\n\nimport {\n  getRequests,\n  getCategories,\n} from '../../../../redux/actions/postActions';\nimport { setAlert } from '../../../../redux/actions/alertActions';\n\n// Utils\nimport { WEBSITE_NAME } from '../../../../utils/websiteData';\n\n// Components\nimport Sidebar from '../../../layout/Sidebar';\nimport Spinner from '../../../layout/Spinner';\nimport PostItem from '../PostItem';\n\nimport useStyles from '../posts-jss';\n\nconst Requests = (props) => {\n  const classes = useStyles();\n\n  const {\n    requests,\n    categories,\n    getRequests,\n    getCategories,\n    loading,\n    loading_categories,\n  } = props;\n\n  const [post_search, setSearch] = useState({\n    keywords: '',\n    category: 0,\n   \n  });\n\n  const { keywords, category, wilaya, city } = post_search;\n\n  useEffect(() => {\n    getRequests(keywords, category, wilaya, city);\n    getCategories();\n\n\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (wilaya !== 0 && wilaya !== '0') {\n      getStateCities(wilaya);\n    } else {\n      clearCities();\n    }\n\n    setSearch({ ...post_search, city: 0 });\n\n    //eslint-disable-next-line\n  }, [wilaya]);\n\n  const onChange = (e) =>\n    setSearch({ ...post_search, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    getRequests(keywords, category, wilaya, city);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${WEBSITE_NAME} | Requests`}</title>\n      </Helmet>\n\n      <div className={`${classes.page} card-shadow text-center`}>\n        <h3 className='title'>Requests</h3>\n        <h6 className='subtitle'>\n          Find donation from your organization then submit your request \n        </h6>\n\n        <div className='row'>\n          <div className='col-12'>\n            <Link\n              to={`/requests/add`}\n              className='button-primary d-inline-block mt-2'\n            >\n              <FontAwesomeIcon className='mr-2' icon={faPlusCircle} />\n              Add a Request\n            </Link>\n          </div>\n        </div>\n        <div className='search-form card-shadow mt-4 pt-4'>\n          <div className='d-lg-none mb-1'>\n            <a\n              className='button-light'\n              data-toggle='collapse'\n              href='#collapse-form'\n              role='button'\n              aria-expanded='false'\n              aria-controls='collapse-form'\n            >\n              <FontAwesomeIcon className='mr-2' icon={faSearch} />\n              Show Filter\n            </a>\n          </div>\n\n          <form\n            onSubmit={onSubmit}\n            className='collapse mt-3'\n            id='collapse-form'\n          >\n            <div className='form-row align-items-center justify-content-center'>\n              <div className='col-12 col-lg-3'>\n                <input\n                  name='keywords'\n                  value={keywords}\n                  onChange={onChange}\n                  type='text'\n                  className='input-text mb-2'\n                  placeholder='Search..'\n                />\n              </div>\n\n              <div className='col-12 col-lg-2'>\n                <select\n                  name='category'\n                  value={category}\n                  onChange={onChange}\n                  className='custom-select input-select input-text mb-2'\n                >\n                  {loading_categories ? (\n                    <option value='0'> All types </option>\n                  ) : (\n                    <>\n                      <option value='0'>All categories</option>\n                      {categories !== null &&\n                        categories.length > 0 &&\n                        categories.map((category) => (\n                          <option key={category.id} value={category.id}>\n                            {category.label}\n                          </option>\n                        ))}\n                    </>\n                  )}\n                </select>\n              </div>\n\n              <div className='col-12 col-lg-1'>\n                <button type='submit' className='button-primary mb-2'>\n                  Go\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        {requests !== null && !loading ? (\n          <div className='content mt-5'>\n            <div className='row'>\n              <div className='col-12 col-lg-9'>\n                <h6 className='text-left'>Requests ({requests.length})</h6>\n                <div className='posts mt-3'>\n                  {requests.length < 1 ? (\n                    <div className='no-requests mt-5'>\n                      <h5>No requests found!</h5>\n                    </div>\n                  ) : (\n                    requests.map((post) => (\n                      <PostItem key={post.id} post={post} type={2} />\n                    ))\n                  )}\n                </div>\n              </div>\n              <div className='d-none d-lg-block col-12 col-lg-3'>\n                <Sidebar />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className='content text-center mt-5'>\n            <Spinner />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapSateToProps = (state) => ({\n  requests: state.posts.requests,\n  categories: state.posts.categories,\n  loading: state.posts.loading,\n  loading_categories: state.posts.loading_categories,\n \n});\n\nexport default connect(mapSateToProps, {\n\n  setAlert,\n  getRequests,\n  getCategories,\n})(Requests);\n"]},"metadata":{},"sourceType":"module"}