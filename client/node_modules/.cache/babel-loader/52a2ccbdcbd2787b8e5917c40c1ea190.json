{"ast":null,"code":"import axios from 'axios';\nimport { LOGIN_SUCCESS, LOGIN_FAIL } from '../Auth/types';\nexport const login = formData => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    dispatch(setLoading());\n    const res = await axios.post('/users/login', formData, config);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n    dispatch(loadUser());\n  } catch (error) {\n    var _error$response, _error$response$data;\n\n    console.log(error);\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.msg\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/pc cam/Desktop/soc/src/Components/Auth/Auth.js"],"names":["axios","LOGIN_SUCCESS","LOGIN_FAIL","login","formData","dispatch","config","headers","setLoading","res","post","type","payload","data","loadUser","error","console","log","response","msg"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACEC,aADF,EAEEC,UAFF,QAIO,eAJP;AAMA,OAAO,MAAMC,KAAK,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;AACrD,QAAMC,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADI,GAAf;;AAMA,MAAI;AACFF,IAAAA,QAAQ,CAACG,UAAU,EAAX,CAAR;AAEA,UAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAW,cAAX,EAA2BN,QAA3B,EAAqCE,MAArC,CAAlB;AAEAD,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV,aADC;AAEPW,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAKAR,IAAAA,QAAQ,CAACS,QAAQ,EAAT,CAAR;AACD,GAXD,CAWE,OAAOC,KAAP,EAAc;AAAA;;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEAV,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAET,UADC;AAEPU,MAAAA,OAAO,qBAAEG,KAAK,CAACG,QAAR,4EAAE,gBAAgBL,IAAlB,yDAAE,qBAAsBM;AAFxB,KAAD,CAAR;AAID;AACF,CA1BM","sourcesContent":["import axios from 'axios';\r\n\r\nimport {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n \r\n} from '../Auth/types';\r\n\r\nexport const login = (formData) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch(setLoading());\r\n\r\n    const res = await axios.post('/users/login', formData, config);\r\n\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(loadUser());\r\n  } catch (error) {\r\n    console.log(error);\r\n\r\n    dispatch({\r\n      type: LOGIN_FAIL,\r\n      payload: error.response?.data?.msg,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}