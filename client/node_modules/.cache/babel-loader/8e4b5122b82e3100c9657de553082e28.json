{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc cam\\\\Desktop\\\\master\\\\client\\\\src\\\\components\\\\pages\\\\Dropdown\\\\Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { Container, Form, Button } from 'react-bootstrap'; // Actions\n\nimport { loadUserProfile } from '../../../redux/actions/userActions';\nimport { sendMessage, clearErrors } from '../../../redux/actions/messageActions';\nimport { setAlert } from '../../../redux/actions/alertActions'; // App layout components\n\nimport Spinner from '../../layout/Spinner'; // Utils\n\nimport { WEBSITE_NAME } from '../../../utils/Data'; // Images\n\nimport OtherPicture from \"../../../images/no-image.svg\";\nimport MalePicture from \"../../../images/male.svg\";\nimport FemalePicture from \"../../../images/female.svg\";\n\nconst Profile = props => {\n  const {\n    match,\n    user,\n    user_profile,\n    loading,\n    loading_send,\n    error_send,\n    loadUserProfile,\n    sendMessage,\n    clearErrors,\n    setAlert\n  } = props;\n  const {\n    _id,\n    name,\n    username,\n    bio,\n    gender,\n    allow_messages\n  } = user_profile || {};\n  const [message, setMessage] = useState('');\n  const [is_sent, setIsSent] = useState(false);\n\n  const onChange = e => setMessage(e.target.value);\n\n  useEffect(() => {\n    loadUserProfile(match.params.username); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    loadUserProfile(match.params.username); // eslint-disable-next-line\n  }, [match]);\n  useEffect(() => {\n    if (error_send && error_send.length) {\n      if (typeof error_send === 'object') {\n        error_send.forEach(err => {\n          setAlert(err.msg, 'danger');\n        });\n      } else {\n        setAlert(error_send, 'danger');\n      }\n\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error_send]);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    if (message === '') {\n      setAlert('Message cannot be empty', 'danger');\n      return;\n    }\n\n    await sendMessage({\n      user_id: _id,\n      content: message\n    });\n\n    if (!error_send) {\n      setIsSent(true);\n    }\n  };\n\n  let positionName = null;\n\n  if (bio === 1) {\n    positionName = 'Professor';\n  }\n\n  if (bio === 2) {\n    positionName = 'Administration staff';\n  }\n\n  if (bio === 3) {\n    positionName = 'ATS';\n  }\n\n  if (bio === null) {\n    positionName = 'This user does not have a bio ğŸ¤­';\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, `${WEBSITE_NAME} | ${loading ? 'Loading...' : username || 'Not found'}`)), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-inner px-3 mt-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }) : !user_profile ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"not-found mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"404\"), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"This page does not exist!\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \" \"))));\n};\n\nconst mapSateToProps = state => ({\n  user: state.auth.user,\n  user_profile: state.user.user_profile,\n  loading: state.user.loading,\n  loading_send: state.message.loading_send,\n  error_send: state.message.error_send\n});\n\nexport default connect(mapSateToProps, {\n  loadUserProfile,\n  sendMessage,\n  clearErrors,\n  setAlert\n})(Profile);","map":{"version":3,"sources":["C:/Users/pc cam/Desktop/master/client/src/components/pages/Dropdown/Profile.js"],"names":["React","useState","useEffect","connect","Helmet","Container","Form","Button","loadUserProfile","sendMessage","clearErrors","setAlert","Spinner","WEBSITE_NAME","Profile","props","match","user","user_profile","loading","loading_send","error_send","_id","name","username","bio","gender","allow_messages","message","setMessage","is_sent","setIsSent","onChange","e","target","value","params","length","forEach","err","msg","onSubmit","preventDefault","user_id","content","positionName","mapSateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { Container, Form, Button } from 'react-bootstrap';\n\n// Actions\nimport { loadUserProfile } from '../../../redux/actions/userActions';\nimport { sendMessage, clearErrors } from '../../../redux/actions/messageActions';\nimport { setAlert } from '../../../redux/actions/alertActions';\n\n// App layout components\nimport Spinner from '../../layout/Spinner';\n\n// Utils\nimport { WEBSITE_NAME } from '../../../utils/Data';\n\n// Images\nimport OtherPicture from '../../../images/no-image.svg';\nimport MalePicture from '../../../images/male.svg';\nimport FemalePicture from '../../../images/female.svg';\n\nconst Profile = (props) => {\n  const {\n    match,\n    user,\n    user_profile,\n    loading,\n    loading_send,\n    error_send,\n    loadUserProfile,\n    sendMessage,\n    clearErrors,\n    setAlert,\n  } = props;\n  const { _id, name, username, bio, gender, allow_messages } =\n    user_profile || {};\n\n  const [message, setMessage] = useState('');\n  const [is_sent, setIsSent] = useState(false);\n\n  const onChange = (e) => setMessage(e.target.value);\n\n  useEffect(() => {\n    loadUserProfile(match.params.username);\n\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    loadUserProfile(match.params.username);\n\n    // eslint-disable-next-line\n  }, [match]);\n\n  useEffect(() => {\n    if (error_send && error_send.length) {\n      if (typeof error_send === 'object') {\n        error_send.forEach((err) => {\n          setAlert(err.msg, 'danger');\n        });\n      } else {\n        setAlert(error_send, 'danger');\n      }\n\n      clearErrors();\n    }\n\n    // eslint-disable-next-line\n  }, [error_send]);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    if (message === '') {\n      setAlert('Message cannot be empty', 'danger');\n      return;\n    }\n\n    await sendMessage({ user_id: _id, content: message });\n\n    if (!error_send) {\n      setIsSent(true);\n    }\n  };\n  let positionName =  null ;\n  if (bio === 1) {\n     positionName='Professor'\n\n  }\n    if (bio === 2) {\n      positionName='Administration staff'\n\n    }\n    if (bio === 3) {\n      positionName='ATS'\n  } \n    if (bio === null) {\n      positionName='This user does not have a bio ğŸ¤­'\n    }\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${WEBSITE_NAME} | ${\n          loading ? 'Loading...' : username || 'Not found'\n        }`}</title>\n      </Helmet>\n      <Container>\n        <div className='container-inner px-3 mt-4 text-center'>\n          {loading ? (\n            <Spinner />\n          ) : !user_profile ? (\n            <div className='not-found mx-auto'>\n              <h1 className='title'>404</h1>\n              <h5 className='subtitle'>This page does not exist!</h5>\n            </div>\n          ) : (\n            <div> </div>\n          )}\n        </div>\n      </Container>\n    </>\n  );\n};\n\nconst mapSateToProps = (state) => ({\n  user: state.auth.user,\n  user_profile: state.user.user_profile,\n  loading: state.user.loading,\n  loading_send: state.message.loading_send,\n  error_send: state.message.error_send,\n});\n\nexport default connect(mapSateToProps, {\n  loadUserProfile,\n  sendMessage,\n  clearErrors,\n  setAlert,\n})(Profile);\n"]},"metadata":{},"sourceType":"module"}