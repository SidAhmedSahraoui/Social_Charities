{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc cam\\\\Desktop\\\\dirlkhir-master\\\\src\\\\components\\\\pages\\\\posts\\\\requests\\\\RequestsPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons'; // Actions\n\nimport { getStates, getStateCities, clearCities } from '../../../../redux/actions/locationActions';\nimport { getRequests, getCategories } from '../../../../redux/actions/postActions';\nimport { setAlert } from '../../../../redux/actions/alertActions'; // Utils\n\nimport { WEBSITE_NAME } from '../../../../utils/websiteData'; // Components\n\nimport Sidebar from '../../../layout/Sidebar';\nimport Spinner from '../../../layout/Spinner';\nimport PostItem from '../PostItem';\nimport useStyles from '../posts-jss';\n\nconst Requests = props => {\n  const classes = useStyles();\n  const {\n    requests,\n    categories,\n    wilayas,\n    cities,\n    getRequests,\n    getCategories,\n    getStates,\n    getStateCities,\n    clearCities,\n    loading_states,\n    loading_state_cities,\n    loading,\n    loading_categories\n  } = props;\n  const [post_search, setSearch] = useState({\n    keywords: '',\n    category: 0,\n    wilaya: 0,\n    city: 0\n  });\n  const {\n    keywords,\n    category,\n    wilaya,\n    city\n  } = post_search;\n  useEffect(() => {\n    getRequests(keywords, category, wilaya, city);\n    getCategories();\n    getStates(); //eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (wilaya !== 0 && wilaya !== '0') {\n      getStateCities(wilaya);\n    } else {\n      clearCities();\n    }\n\n    setSearch({ ...post_search,\n      city: 0\n    }); //eslint-disable-next-line\n  }, [wilaya]);\n\n  const onChange = e => setSearch({ ...post_search,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    getRequests(keywords, category, wilaya, city);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, `${WEBSITE_NAME} | Requests`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classes.page} card-shadow text-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Requests\"), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Find people in need of money, tools or resources\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/requests/add`,\n    className: \"button-primary d-inline-block mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faPlusCircle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }), \"Add a Request\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-form card-shadow mt-4 pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-lg-none mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"button-light\",\n    \"data-toggle\": \"collapse\",\n    href: \"#collapse-form\",\n    role: \"button\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"collapse-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }), \"Show Filter\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: \"collapse mt-3\",\n    id: \"collapse-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"keywords\",\n    value: keywords,\n    onChange: onChange,\n    type: \"text\",\n    className: \"input-text mb-2\",\n    placeholder: \"Search..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    value: category,\n    onChange: onChange,\n    className: \"custom-select input-select input-text mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, loading_categories ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 23\n    }\n  }, \"All categories\"), categories !== null && categories.length > 0 && categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 27\n    }\n  }, category.label))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"wilaya\",\n    value: wilaya,\n    onChange: onChange,\n    className: \"custom-select input-select input-text mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, loading_states ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }\n  }, \"Select a wilaya\"), wilayas !== null && wilayas.length > 0 && wilayas.map(wilaya => /*#__PURE__*/React.createElement(\"option\", {\n    key: wilaya.code,\n    value: wilaya.code,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 27\n    }\n  }, wilaya.label))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"city\",\n    value: city,\n    onChange: onChange,\n    className: \"custom-select input-select input-text mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, loading_state_cities ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 23\n    }\n  }, \"Select a city\"), cities !== null && cities.length > 0 && cities.map(city => /*#__PURE__*/React.createElement(\"option\", {\n    key: city.code,\n    value: city.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 27\n    }\n  }, city.label))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button-primary mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, \"Go\"))))), requests !== null && !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, \"Requests (\", requests.length, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }\n  }, requests.length < 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-requests mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 23\n    }\n  }, \"No requests found!\")) : requests.map(post => /*#__PURE__*/React.createElement(PostItem, {\n    key: post.id,\n    post: post,\n    type: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-none d-lg-block col-12 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapSateToProps = state => ({\n  requests: state.posts.requests,\n  categories: state.posts.categories,\n  loading: state.posts.loading,\n  loading_categories: state.posts.loading_categories,\n  wilayas: state.locations.states,\n  cities: state.locations.cities,\n  loading_states: state.locations.loading_states,\n  loading_state_cities: state.locations.loading_state_cities\n});\n\nexport default connect(mapSateToProps, {\n  getStates,\n  getStateCities,\n  clearCities,\n  setAlert,\n  getRequests,\n  getCategories\n})(Requests);","map":{"version":3,"sources":["C:/Users/pc cam/Desktop/dirlkhir-master/src/components/pages/posts/requests/RequestsPage.js"],"names":["React","useState","useEffect","Link","connect","Helmet","FontAwesomeIcon","faPlusCircle","faSearch","getStates","getStateCities","clearCities","getRequests","getCategories","setAlert","WEBSITE_NAME","Sidebar","Spinner","PostItem","useStyles","Requests","props","classes","requests","categories","wilayas","cities","loading_states","loading_state_cities","loading","loading_categories","post_search","setSearch","keywords","category","wilaya","city","onChange","e","target","name","value","onSubmit","preventDefault","page","length","map","id","label","code","post","mapSateToProps","state","posts","locations","states"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons';\n\n// Actions\nimport {\n  getStates,\n  getStateCities,\n  clearCities,\n} from '../../../../redux/actions/locationActions';\nimport {\n  getRequests,\n  getCategories,\n} from '../../../../redux/actions/postActions';\nimport { setAlert } from '../../../../redux/actions/alertActions';\n\n// Utils\nimport { WEBSITE_NAME } from '../../../../utils/websiteData';\n\n// Components\nimport Sidebar from '../../../layout/Sidebar';\nimport Spinner from '../../../layout/Spinner';\nimport PostItem from '../PostItem';\n\nimport useStyles from '../posts-jss';\n\nconst Requests = (props) => {\n  const classes = useStyles();\n\n  const {\n    requests,\n    categories,\n    wilayas,\n    cities,\n    getRequests,\n    getCategories,\n    getStates,\n    getStateCities,\n    clearCities,\n    loading_states,\n    loading_state_cities,\n    loading,\n    loading_categories,\n  } = props;\n\n  const [post_search, setSearch] = useState({\n    keywords: '',\n    category: 0,\n    wilaya: 0,\n    city: 0,\n  });\n\n  const { keywords, category, wilaya, city } = post_search;\n\n  useEffect(() => {\n    getRequests(keywords, category, wilaya, city);\n    getCategories();\n    getStates();\n\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (wilaya !== 0 && wilaya !== '0') {\n      getStateCities(wilaya);\n    } else {\n      clearCities();\n    }\n\n    setSearch({ ...post_search, city: 0 });\n\n    //eslint-disable-next-line\n  }, [wilaya]);\n\n  const onChange = (e) =>\n    setSearch({ ...post_search, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    getRequests(keywords, category, wilaya, city);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${WEBSITE_NAME} | Requests`}</title>\n      </Helmet>\n\n      <div className={`${classes.page} card-shadow text-center`}>\n        <h3 className='title'>Requests</h3>\n        <h6 className='subtitle'>\n          Find people in need of money, tools or resources\n        </h6>\n\n        <div className='row'>\n          <div className='col-12'>\n            <Link\n              to={`/requests/add`}\n              className='button-primary d-inline-block mt-2'\n            >\n              <FontAwesomeIcon className='mr-2' icon={faPlusCircle} />\n              Add a Request\n            </Link>\n          </div>\n        </div>\n        <div className='search-form card-shadow mt-4 pt-4'>\n          <div className='d-lg-none mb-1'>\n            <a\n              className='button-light'\n              data-toggle='collapse'\n              href='#collapse-form'\n              role='button'\n              aria-expanded='false'\n              aria-controls='collapse-form'\n            >\n              <FontAwesomeIcon className='mr-2' icon={faSearch} />\n              Show Filter\n            </a>\n          </div>\n\n          <form\n            onSubmit={onSubmit}\n            className='collapse mt-3'\n            id='collapse-form'\n          >\n            <div className='form-row align-items-center justify-content-center'>\n              <div className='col-12 col-lg-3'>\n                <input\n                  name='keywords'\n                  value={keywords}\n                  onChange={onChange}\n                  type='text'\n                  className='input-text mb-2'\n                  placeholder='Search..'\n                />\n              </div>\n\n              <div className='col-12 col-lg-2'>\n                <select\n                  name='category'\n                  value={category}\n                  onChange={onChange}\n                  className='custom-select input-select input-text mb-2'\n                >\n                  {loading_categories ? (\n                    <option value='0'>Loading...</option>\n                  ) : (\n                    <>\n                      <option value='0'>All categories</option>\n                      {categories !== null &&\n                        categories.length > 0 &&\n                        categories.map((category) => (\n                          <option key={category.id} value={category.id}>\n                            {category.label}\n                          </option>\n                        ))}\n                    </>\n                  )}\n                </select>\n              </div>\n\n              <div className='col-12 col-lg-2'>\n                <select\n                  name='wilaya'\n                  value={wilaya}\n                  onChange={onChange}\n                  className='custom-select input-select input-text mb-2'\n                >\n                  {loading_states ? (\n                    <option value='0'>Loading...</option>\n                  ) : (\n                    <>\n                      <option value='0'>Select a wilaya</option>\n                      {wilayas !== null &&\n                        wilayas.length > 0 &&\n                        wilayas.map((wilaya) => (\n                          <option key={wilaya.code} value={wilaya.code}>\n                            {wilaya.label}\n                          </option>\n                        ))}\n                    </>\n                  )}\n                </select>\n              </div>\n\n              <div className='col-12 col-lg-2'>\n                <select\n                  name='city'\n                  value={city}\n                  onChange={onChange}\n                  className='custom-select input-select input-text mb-2'\n                >\n                  {loading_state_cities ? (\n                    <option value='0'>Loading...</option>\n                  ) : (\n                    <>\n                      <option value='0'>Select a city</option>\n                      {cities !== null &&\n                        cities.length > 0 &&\n                        cities.map((city) => (\n                          <option key={city.code} value={city.id}>\n                            {city.label}\n                          </option>\n                        ))}\n                    </>\n                  )}\n                </select>\n              </div>\n\n              <div className='col-12 col-lg-1'>\n                <button type='submit' className='button-primary mb-2'>\n                  Go\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        {requests !== null && !loading ? (\n          <div className='content mt-5'>\n            <div className='row'>\n              <div className='col-12 col-lg-9'>\n                <h6 className='text-left'>Requests ({requests.length})</h6>\n                <div className='posts mt-3'>\n                  {requests.length < 1 ? (\n                    <div className='no-requests mt-5'>\n                      <h5>No requests found!</h5>\n                    </div>\n                  ) : (\n                    requests.map((post) => (\n                      <PostItem key={post.id} post={post} type={2} />\n                    ))\n                  )}\n                </div>\n              </div>\n              <div className='d-none d-lg-block col-12 col-lg-3'>\n                <Sidebar />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className='content text-center mt-5'>\n            <Spinner />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapSateToProps = (state) => ({\n  requests: state.posts.requests,\n  categories: state.posts.categories,\n  loading: state.posts.loading,\n  loading_categories: state.posts.loading_categories,\n  wilayas: state.locations.states,\n  cities: state.locations.cities,\n  loading_states: state.locations.loading_states,\n  loading_state_cities: state.locations.loading_state_cities,\n});\n\nexport default connect(mapSateToProps, {\n  getStates,\n  getStateCities,\n  clearCities,\n  setAlert,\n  getRequests,\n  getCategories,\n})(Requests);\n"]},"metadata":{},"sourceType":"module"}