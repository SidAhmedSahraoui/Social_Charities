{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc cam\\\\Desktop\\\\master\\\\client\\\\src\\\\components\\\\pages\\\\Dropdown\\\\Messages.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { Container } from 'react-bootstrap'; // Actions\n\nimport { getMessages, toggleFav, clearErrors } from '../../../redux/actions/messageActions';\nimport { setAlert } from '../../../redux/actions/alertActions'; // App layout components\n\nimport MessageCard from '../../layout/MessageCard';\nimport MessageModal from '../../layout/MessageModal'; // Utils\n\nimport { WEBSITE_NAME } from '../../../utils/Data'; // Images\n\nimport OtherPicture from \"../../images/other.svg\";\nimport MalePicture from \"../../images/male.svg\";\nimport FemalePicture from \"../../images/female.svg\";\n\nconst Messages = props => {\n  const [showModal, setShowModal] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const handleShowModal = msg => {\n    setMessage(msg);\n    setShowModal(true);\n  };\n\n  const handleHideModal = () => {\n    setShowModal(false);\n    setMessage('');\n  };\n\n  const {\n    user,\n    messages,\n    loading,\n    error,\n    getMessages,\n    toggleFav,\n    clearErrors,\n    setAlert\n  } = props;\n  useEffect(() => {\n    getMessages(); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (error && error.length) {\n      if (typeof error === 'object') {\n        error.forEach(err => {\n          setAlert(err.msg, 'danger');\n        });\n      } else {\n        setAlert(error, 'danger');\n      }\n\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error]);\n  const {\n    name,\n    username,\n    gender\n  } = user || {};\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, `${WEBSITE_NAME} | Massages`)), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-inner px-3 mt-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"picture\",\n    src: gender === 1 ? MalePicture : gender === 2 ? FemalePicture : OtherPicture,\n    alt: \"Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-details mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Your messages\"), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, name || username)), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MessageCard, {\n    isLoading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MessageCard, {\n    isLoading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  })) : !messages || !messages.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"title mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Empty inbox\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"sad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"\\uD83D\\uDE25\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, messages.map(message => /*#__PURE__*/React.createElement(MessageCard, {\n    key: message._id,\n    message: message,\n    toggleFavAction: toggleFav,\n    handleShowModal: handleShowModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(MessageModal, {\n    show: showModal,\n    message: message,\n    onHide: handleHideModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst mapSateToProps = state => ({\n  user: state.auth.user,\n  messages: state.message.messages,\n  loading: state.message.loading,\n  error: state.message.error\n});\n\nexport default connect(mapSateToProps, {\n  getMessages,\n  toggleFav,\n  clearErrors,\n  setAlert\n})(Messages);","map":{"version":3,"sources":["C:/Users/pc cam/Desktop/master/client/src/components/pages/Dropdown/Messages.js"],"names":["React","useEffect","useState","connect","Helmet","Container","getMessages","toggleFav","clearErrors","setAlert","MessageCard","MessageModal","WEBSITE_NAME","Messages","props","showModal","setShowModal","message","setMessage","handleShowModal","msg","handleHideModal","user","messages","loading","error","length","forEach","err","name","username","gender","MalePicture","FemalePicture","OtherPicture","map","_id","mapSateToProps","state","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,SAAT,QAA0B,iBAA1B,C,CAEA;;AACA,SACEC,WADF,EAEEC,SAFF,EAGEC,WAHF,QAIO,uCAJP;AAKA,SAASC,QAAT,QAAyB,qCAAzB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,2BAAzB,C,CAEA;;AACA,SAASC,YAAT,QAA6B,qBAA7B,C,CAEA;;;;;;AAKA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMiB,eAAe,GAAIC,GAAD,IAAS;AAC/BF,IAAAA,UAAU,CAACE,GAAD,CAAV;AACAJ,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAHD;;AAKA,QAAMK,eAAe,GAAG,MAAM;AAC5BL,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD,GAHD;;AAKA,QAAM;AACJI,IAAAA,IADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,KAJI;AAKJnB,IAAAA,WALI;AAMJC,IAAAA,SANI;AAOJC,IAAAA,WAPI;AAQJC,IAAAA;AARI,MASFK,KATJ;AAWAb,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,WAAW,GADG,CAGd;AACD,GAJQ,EAIN,EAJM,CAAT;AAMAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIwB,KAAK,IAAIA,KAAK,CAACC,MAAnB,EAA2B;AACzB,UAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,QAAAA,KAAK,CAACE,OAAN,CAAeC,GAAD,IAAS;AACrBnB,UAAAA,QAAQ,CAACmB,GAAG,CAACR,GAAL,EAAU,QAAV,CAAR;AACD,SAFD;AAGD,OAJD,MAIO;AACLX,QAAAA,QAAQ,CAACgB,KAAD,EAAQ,QAAR,CAAR;AACD;;AAEDjB,MAAAA,WAAW;AACZ,KAXa,CAad;;AACD,GAdQ,EAcN,CAACiB,KAAD,CAdM,CAAT;AAgBA,QAAM;AAAEI,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA;AAAlB,MAA6BT,IAAI,IAAI,EAA3C;AAEA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAS,GAAEV,YAAa,aAAxB,CADF,CADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,SADZ;AAEE,IAAA,GAAG,EACDmB,MAAM,KAAK,CAAX,GACIC,WADJ,GAEID,MAAM,KAAK,CAAX,GACAE,aADA,GAEAC,YAPR;AASE,IAAA,GAAG,EAAC,SATN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAaE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBL,IAAI,IAAIC,QAA9B,CAFF,CAbF,EAkBGN,OAAO,gBACN;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADM,GAKJ,CAACD,QAAD,IAAa,CAACA,QAAQ,CAACG,MAAvB,gBACF;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACc,GADd,eAEE;AAAM,IAAA,IAAI,EAAC,KAAX;AAAiB,kBAAW,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,CADE,gBAUF;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,QAAQ,CAACY,GAAT,CAAclB,OAAD,iBACZ,oBAAC,WAAD;AACE,IAAA,GAAG,EAAEA,OAAO,CAACmB,GADf;AAEE,IAAA,OAAO,EAAEnB,OAFX;AAGE,IAAA,eAAe,EAAEV,SAHnB;AAIE,IAAA,eAAe,EAAEY,eAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CAjCJ,CADF,CADF,eAiDE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAEJ,SADR;AAEE,IAAA,OAAO,EAAEE,OAFX;AAGE,IAAA,MAAM,EAAEI,eAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjDF,CAJF,CADF;AA8DD,CA/GD;;AAiHA,MAAMgB,cAAc,GAAIC,KAAD,KAAY;AACjChB,EAAAA,IAAI,EAAEgB,KAAK,CAACC,IAAN,CAAWjB,IADgB;AAEjCC,EAAAA,QAAQ,EAAEe,KAAK,CAACrB,OAAN,CAAcM,QAFS;AAGjCC,EAAAA,OAAO,EAAEc,KAAK,CAACrB,OAAN,CAAcO,OAHU;AAIjCC,EAAAA,KAAK,EAAEa,KAAK,CAACrB,OAAN,CAAcQ;AAJY,CAAZ,CAAvB;;AAOA,eAAetB,OAAO,CAACkC,cAAD,EAAiB;AACrC/B,EAAAA,WADqC;AAErCC,EAAAA,SAFqC;AAGrCC,EAAAA,WAHqC;AAIrCC,EAAAA;AAJqC,CAAjB,CAAP,CAKZI,QALY,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { Container } from 'react-bootstrap';\n\n// Actions\nimport {\n  getMessages,\n  toggleFav,\n  clearErrors,\n} from '../../../redux/actions/messageActions';\nimport { setAlert } from '../../../redux/actions/alertActions';\n\n// App layout components\nimport MessageCard from '../../layout/MessageCard';\nimport MessageModal from '../../layout/MessageModal';\n\n// Utils\nimport { WEBSITE_NAME } from '../../../utils/Data';\n\n// Images\nimport OtherPicture from '../../images/other.svg';\nimport MalePicture from '../../images/male.svg';\nimport FemalePicture from '../../images/female.svg';\n\nconst Messages = (props) => {\n  const [showModal, setShowModal] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const handleShowModal = (msg) => {\n    setMessage(msg);\n    setShowModal(true);\n  };\n\n  const handleHideModal = () => {\n    setShowModal(false);\n    setMessage('');\n  };\n\n  const {\n    user,\n    messages,\n    loading,\n    error,\n    getMessages,\n    toggleFav,\n    clearErrors,\n    setAlert,\n  } = props;\n\n  useEffect(() => {\n    getMessages();\n\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (error && error.length) {\n      if (typeof error === 'object') {\n        error.forEach((err) => {\n          setAlert(err.msg, 'danger');\n        });\n      } else {\n        setAlert(error, 'danger');\n      }\n\n      clearErrors();\n    }\n\n    // eslint-disable-next-line\n  }, [error]);\n\n  const { name, username, gender } = user || {};\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${WEBSITE_NAME} | Massages`}</title>\n      </Helmet>\n      <Container>\n        <div className='container-inner px-3 mt-4 text-center'>\n          <div className='messages mx-auto'>\n            <img\n              className='picture'\n              src={\n                gender === 1\n                  ? MalePicture\n                  : gender === 2\n                  ? FemalePicture\n                  : OtherPicture\n              }\n              alt='Profile'\n            />\n\n            <div className='user-details mt-4'>\n              <h3 className='title'>Your messages</h3>\n              <h6 className='name'>{name || username}</h6>\n            </div>\n\n            {loading ? (\n              <div className='cards-container mt-5'>\n                <MessageCard isLoading={true} />\n                <MessageCard isLoading={true} />\n              </div>\n            ) : !messages || !messages.length ? (\n              <div className='empty'>\n                <h6 className='title mt-5'>\n                  Empty inbox{' '}\n                  <span role='img' aria-label='sad'>\n                    😥\n                  </span>\n                </h6>\n              </div>\n            ) : (\n              <div className='cards-container mt-5'>\n                {messages.map((message) => (\n                  <MessageCard\n                    key={message._id}\n                    message={message}\n                    toggleFavAction={toggleFav}\n                    handleShowModal={handleShowModal}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <MessageModal\n          show={showModal}\n          message={message}\n          onHide={handleHideModal}\n        />\n      </Container>\n    </>\n  );\n};\n\nconst mapSateToProps = (state) => ({\n  user: state.auth.user,\n  messages: state.message.messages,\n  loading: state.message.loading,\n  error: state.message.error,\n});\n\nexport default connect(mapSateToProps, {\n  getMessages,\n  toggleFav,\n  clearErrors,\n  setAlert,\n})(Messages);\n"]},"metadata":{},"sourceType":"module"}